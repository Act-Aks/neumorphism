import{j as p}from"./jsx-runtime-u17CrQMm.js";import{r as s}from"./iframe-DtOoGLv3.js";import{f as oe,N as Ge,u as Te,m as U,E as He,a as ae,c as ie}from"./index-INrKvmRh.js";import{c as Le}from"./createLucideIcon-ixlSmBQf.js";import{u as $,a as ne,b as Ke,c as Ue,n as $e}from"./floating-ui.utils.dom-BZ5UQvld.js";import{u as I}from"./useIsoLayoutEffect-BH9BFz4R.js";import{f as ce,u as De,a as Je,b as We,c as Xe,d as Ye,v as ze}from"./useValueChanged-O1Lli2pv.js";import{u as Qe}from"./useButton-BO5f5lFw.js";import{u as Ze}from"./useValueAsRef-U_2MnS-a.js";import{r as re}from"./index-C2JtXAT3.js";import{u as et,A as y}from"./useAnimationFrame-B3-PMwmY.js";import"./preload-helper-PPVm8Dsz.js";import"./index-Dyc3y-QE.js";import"./useOnMount-Vip3CIF8.js";function tt(e){return e==null?e:"current"in e?e.current:e}function nt(e,t=!1,i=!0){const o=et();return $((c,n=null)=>{o.cancel();const d=tt(e);d!=null&&(typeof d.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?c():o.request(()=>{function r(){d&&Promise.all(d.getAnimations().map(u=>u.finished)).then(()=>{n!=null&&n.aborted||re.flushSync(c)}).catch(()=>{if(i){if(n!=null&&n.aborted)return;re.flushSync(c)}else d.getAnimations().length>0&&d.getAnimations().some(u=>u.pending||u.playState!=="finished")&&r()})}t?o.request(r):r()}))})}function rt(e,t=!1,i=!1){const[o,c]=s.useState(e&&t?"idle":void 0),[n,d]=s.useState(e);return e&&!n&&(d(!0),c("starting")),!e&&n&&o!=="ending"&&!i&&c("ending"),!e&&!n&&o==="ending"&&c(void 0),I(()=>{if(!e&&n&&o!=="ending"&&i){const r=y.request(()=>{c("ending")});return()=>{y.cancel(r)}}},[e,n,o,i]),I(()=>{if(!e||t)return;const r=y.request(()=>{c(void 0)});return()=>{y.cancel(r)}},[t,e]),I(()=>{if(!e||!t)return;e&&n&&o!=="idle"&&c("starting");const r=y.request(()=>{c("idle")});return()=>{y.cancel(r)}},[t,e,n,c,o]),s.useMemo(()=>({mounted:n,setMounted:d,transitionStatus:o}),[n,o])}let de=(function(e){return e.startingStyle="data-starting-style",e.endingStyle="data-ending-style",e})({});const st={[de.startingStyle]:""},ot={[de.endingStyle]:""},at={transitionStatus(e){return e==="starting"?st:e==="ending"?ot:null}};function it(e){const{enabled:t=!0,open:i,ref:o,onComplete:c}=e,n=Ze(i),d=$(c),r=nt(o,i);s.useEffect(()=>{t&&r(()=>{i===n.current&&d()})},[t,i,d,r,n])}let se=(function(e){return e.checked="data-checked",e.unchecked="data-unchecked",e.disabled="data-disabled",e.readonly="data-readonly",e.required="data-required",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e})({});function le(e){return s.useMemo(()=>({checked(t){return e.indeterminate?{}:t?{[se.checked]:""}:{[se.unchecked]:""}},...ce}),[e.indeterminate])}const ct=s.createContext({disabled:!1});function dt(){return s.useContext(ct)}const lt=s.createContext(void 0);function ut(e=!0){const t=s.useContext(lt);if(t===void 0&&!e)throw new Error(oe(3));return t}const ue=s.createContext(void 0);function ft(){const e=s.useContext(ue);if(e===void 0)throw new Error(oe(14));return e}const mt="data-parent",pt=s.forwardRef(function(t,i){const{checked:o,className:c,defaultChecked:n=!1,disabled:d=!1,id:r,indeterminate:u=!1,inputRef:E,name:G,onCheckedChange:M,parent:m=!1,readOnly:k=!1,render:D,required:C=!1,uncheckedValue:V,value:F,nativeButton:fe=!1,...me}=t,{clearErrors:pe}=De(),{disabled:he,name:ge,setDirty:ke,setFilled:T,setFocused:J,setTouched:Ce,state:W,validationMode:xe,validityData:ve,shouldValidateOnChange:be,validation:ye}=Je(),Pe=dt(),{labelId:Ne,controlId:Se,setControlId:j,getDescriptionProps:X}=We(),a=ut(),P=a?.parent,O=P&&a.allValues,x=he||Pe.disabled||a?.disabled||d,v=ge??G,f=F??v,Y=ne(),Ie=ne();let N=Se;O?N=m?Ie:`${P.id}-${f}`:r&&(N=r);let H={};O&&(m?H=a.parent.getParentProps():f&&(H=a.parent.getChildProps(f)));const Ee=$(M),{checked:z=o,indeterminate:R=u,onCheckedChange:Me,...Ve}=H,b=a?.value,Q=a?.setValue,Z=a?.defaultValue,L=s.useRef(null),{getButtonProps:Fe,buttonRef:je}=Qe({disabled:x,native:fe}),h=a?.validation??ye,[l,Oe]=Ke({controlled:f&&b&&!m?b.includes(f):z,default:f&&Z&&!m?Z.includes(f):n,name:"Checkbox",state:"checked"});I(()=>{if(j!==Ge)return j(N),()=>{j(void 0)}},[N,a,j,m]),Xe({enabled:!a,id:Y,commit:h.commit,value:l,controlRef:L,name:v,getValue:()=>l});const S=s.useRef(null),Re=Te(E,S,h.inputRef);I(()=>{S.current&&(S.current.indeterminate=R,l&&T(!0))},[l,R,T]),Ye(l,()=>{a&&!m||(pe(v),T(l),ke(l!==ve.initialValue),be()?h.commit(l):h.commit(l,!0))});const we=U({checked:l,disabled:x,name:m?void 0:v,id:N??void 0,required:C,ref:Re,style:ze,tabIndex:-1,type:"checkbox","aria-hidden":!0,onChange(g){if(g.nativeEvent.defaultPrevented)return;const w=g.target.checked,_=Ue($e,g.nativeEvent);if(Me?.(w,_),Ee(w,_),!_.isCanceled&&(Oe(w),f&&b&&Q&&!m)){const Be=w?[...b,f]:b.filter(qe=>qe!==f);Q(Be,_)}},onFocus(){L.current?.focus()}},F!==void 0?{value:(a?l&&F:F)||""}:He,X,a?h.getValidationProps:h.getInputValidationProps),ee=O?!!z:l,te=O&&R||u;s.useEffect(()=>{P&&f&&P.disabledStatesRef.current.set(f,x)},[P,x,f]);const K=s.useMemo(()=>({...W,checked:ee,disabled:x,readOnly:k,required:C,indeterminate:te}),[W,ee,x,k,C,te]),_e=le(K),Ae=ae("span",t,{state:K,ref:[je,L,i,a?.registerControlRef],props:[{id:Y,role:"checkbox","aria-checked":R?"mixed":l,"aria-readonly":k||void 0,"aria-required":C||void 0,"aria-labelledby":Ne,[mt]:m?"":void 0,onFocus(){J(!0)},onBlur(){const g=S.current;g&&(Ce(!0),J(!1),xe==="onBlur"&&h.commit(a?b:g.checked))},onClick(g){k||x||(g.preventDefault(),S.current?.click())}},X,h.getValidationProps,me,Ve,Fe],stateAttributesMapping:_e});return p.jsxs(ue.Provider,{value:K,children:[Ae,!l&&!a&&v&&!m&&V!==void 0&&p.jsx("input",{type:"hidden",name:v,value:V}),p.jsx("input",{...we})]})}),ht=s.forwardRef(function(t,i){const{render:o,className:c,keepMounted:n=!1,...d}=t,r=ft(),u=r.checked||r.indeterminate,{transitionStatus:E,setMounted:G}=rt(u),M=s.useRef(null),m=s.useMemo(()=>({...r,transitionStatus:E}),[r,E]);it({open:u,ref:M,onComplete(){u||G(!1)}});const k=le(r),D=s.useMemo(()=>({...k,...at,...ce}),[k]),C=n||u,V=ae("span",t,{enabled:C,ref:[i,M],state:m,stateAttributesMapping:D,props:d});return C?V:null});const gt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kt=Le("check",gt),Ct=ie("relative block h-5 w-5 shrink-0 cursor-pointer rounded-sm border border-highlight bg-background shadow-inset transition-all duration-350 ease-out focus:outline-none focus-visible:ring-2 focus-visible:ring-foreground focus-visible:ring-offset-2 disabled:opacity-50 data-checked:border-primary/50 data-checked:bg-linear-to-tl data-checked:from-primary/5 data-checked:to-primary/25 data-checked:shadow-raised"),xt=ie("-translate-1/2 absolute top-1/2 left-1/2 flex items-center justify-center"),q=e=>{const t=U(e,{className:Ct()}),i=U(e,{className:xt()});return p.jsx(pt,{...t,children:p.jsx(ht,{...i,children:p.jsx(kt,{className:"h-3 w-3 text-primary"})})})};q.__docgenInfo={description:"",methods:[],displayName:"Checkbox"};const wt={component:q,parameters:{layout:"centered"},tags:["autodocs"],title:"Components/Checkbox"},A={render:()=>{const[e,t]=s.useState(!1);return p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(q,{checked:e,id:"terms",onCheckedChange:t}),p.jsx("label",{className:"font-medium text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"terms",children:"Accept terms and conditions"})]})}},B={render:()=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(q,{checked:!0,id:"checked"}),p.jsx("label",{className:"font-medium text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"checked",children:"Checked"})]})};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [checked, setChecked] = useState(false);
    return <div className='flex items-center space-x-2'>
                <Checkbox checked={checked} id='terms' onCheckedChange={setChecked} />
                <label className='font-medium text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70' htmlFor='terms'>
                    Accept terms and conditions
                </label>
            </div>;
  }
}`,...A.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  render: () => <div className='flex items-center space-x-2'>
            <Checkbox checked id='checked' />
            <label className='font-medium text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70' htmlFor='checked'>
                Checked
            </label>
        </div>
}`,...B.parameters?.docs?.source}}};const _t=["Default","Checked"];export{B as Checked,A as Default,_t as __namedExportsOrder,wt as default};
